{% extends 'base.html.twig' %}

{% block title %}**Post**{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{{asset('css/cardPost.css')}}">
    <link rel="stylesheet" href="{{asset('css/font-awesome.css')}}">

    <div class="wrapper" >

        {% for post in posts %}
            <br>
            <div class="container">


            <div class="blog_post">
                <div class="img_pod">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRsY-URPHt28kwUo6IlZW_0P8_bQVvEQXRi4cOrs1EYa9q5IBeb4KPRlS5h6qOYCOpYtgU&usqp=CAU" alt="random image">
                </div>
                <div class="container_copy">
                    <h5>{{ post.idUser.email}}</h5>

                    <h1>{{ post.datep ? post.datep|date('Y-m-d') : '' }}</h1>
                    <br>

                    <h3>{{ post.title }}</h3>
                    <br>

                    <p>{{ post.content }}</p>


                </div>
                <br>
                <br>


                <a class="btn btn-outline-info btn-sm" href="{{ path('app_post_showback', {'id': post.id}) }}">Detail</a>
                <button class="like__btn" >
                    <span id="icon"></span>
                    <span id="count">0</span> j'aime
                </button>
                <a href="{{ path('app_comment_index')}}"class="btn btn-outline-success btn-sm"class="fa-solid fa-heart" >Commentaires</a>


            </div>
            </div>
        {% endfor%}
        <br>

    </div>

    <script >

        const likeBtn = document.querySelector(".like__btn");
        let likeIcon = document.querySelector("#icon"),
            count = document.querySelector("#count");

        let clicked = false;


        likeBtn.addEventListener("click", () => {
            if (!clicked) {
                clicked = true;
                likeIcon.innerHTML = `<i class="fa fa-heart"></i>`;
                count.textContent++;
            } else {
                clicked = false;
                likeIcon.innerHTML = `<i class="fa fa-heart"></i>`;
                count.textContent--;
            }
        });
    </script>
{% endblock  %}

